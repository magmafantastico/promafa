<!DOCTYPE html>
<html lang="pt-br">
<meta charset="UTF-8">
<title>Promafa | Carrousel</title>
<meta name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"/>
<script src="dist/js/villa.min.js"></script>
<link rel="stylesheet" href="dist/css/villa.min.css"/>
<!--[if lt IE 9]>
<link rel="stylesheet" type="text/css" href="dist/css/material-colors.css"/>
<link rel="stylesheet" type="text/css" href="dist/css/villa-cross.min.css"/>
<script src="dist/js/html5shiv.js"></script>
<script src="dist/js/html5shiv-printshiv.js"></script>
<script src="dist/js/classList.min.js"></script>
<![endif]-->

<style>

	.HeroGallery {
		position: relative;
	}

	.HeroGalleryItem {
		visibility: hidden;
		position: absolute;
		overflow: hidden;
		width: 100%;
		min-height: 100vh;
	}

	.HeroGalleryItem.is-active {
		visibility: visible;
	}

	.HeroGalleryItem-background {
		-webkit-background-size: cover;
		-moz-background-size: cover;
		-o-background-size: cover;
		background-size: cover;
		height: 100%;
		left: 0;
		position: absolute;
		top: 0;
		width: 100%;
	}

	.HeroGalleryItem-background img.is-hide {
		display: none;
	}

	.HeroGalleryItem-inner {
		height: 100%;
		left: 0;
		position: relative;
		top: 0;
		width: 100%;
	}

</style>

<body>

<section id="hero-gallery" class="HeroGallery">

	<article class="HeroGalleryItem">

		<figure class="HeroGalleryItem-background">

			<img src="img/fdo_type%201.png" alt=""/>

		</figure>

		<div class="HeroGalleryItem-inner"></div>

	</article>

	<article class="HeroGalleryItem">

		<figure class="HeroGalleryItem-background">

			<img src="img/fdo_type%202.png" alt=""/>

		</figure>

		<div class="HeroGalleryItem-inner"></div>

	</article>

	<article class="HeroGalleryItem">

		<figure class="HeroGalleryItem-background">

			<img src="img/fdo_type%203.png" alt=""/>

		</figure>

		<div class="HeroGalleryItem-inner"></div>

	</article>

	<article class="HeroGalleryItem">

		<figure class="HeroGalleryItem-background">

			<img src="img/fdo_type%204.png" alt=""/>

		</figure>

		<div class="HeroGalleryItem-inner"></div>

	</article>

</section>

<script>

	/* Hero Gallery */

	var HeroGallery = (function () {

		/**
		 * Hero Gallery constructor
		 * @param {Element} viewport
		 * @constructor
		 */
		function HeroGallery(viewport) {

			var self = this;

			this.viewport = viewport;

			this.config = {
				viewportSelector: '.HeroGallery',
				itemSelector: '.HeroGalleryItem'
			};

			this.slider = new HeroGallerySlider();

			if (this.viewport)
				this.init();

		}

		HeroGallery.prototype.initSlider = function () {

			this.slider.gallery = this;
			this.slider.init();

		};

		/**
		 * Init Gallery Items
		 */
		HeroGallery.prototype.initGalleryItems = function () {

			for (var i = this.items.length; i--; )
				this.items[i].galleryItem = new HeroGalleryItem(this.items[i], this);

		};

		/**
		 * Get Gallery Items and normalize them
		 */
		HeroGallery.prototype.getGalleryItems = function() {

			this.items = this.viewport.querySelectorAll(this.config.itemSelector);

		};

		/**
		 * Normalize this
		 */
		HeroGallery.prototype.normalize = function () {

			this.getGalleryItems();
			this.initGalleryItems();

		};

		/**
		 * Init this
		 */
		HeroGallery.prototype.init = function() {

			// give to viewport Node a instance of this
			if (!this.viewport.heroGallery)
				this.viewport.heroGallery = this;

			// normalize the gallery and the items
			this.normalize();

			// init and start the slider
			this.initSlider();

		};

		return HeroGallery;

	})();

	/* Hero Gallery item */

	var HeroGalleryItem = (function () {

		/**
		 * Hero Gallery item constructor
		 * @param {Element} viewport
		 * @param {Element} gallery
		 * @constructor
		 */
		function HeroGalleryItem(viewport, gallery) {

			var self = this;

			this.viewport = viewport;
			this.gallery = gallery;

			this.config = {
				viewportSelector: '.HeroGalleryItem',
				backgroundSelector: '.HeroGalleryItem-background',
				backgroundImgSelector: '.HeroGalleryItem-background img',
				innerSelector: '.HeroGalleryItem-inner'
			};

			if (this.viewport)
				this.init();

		}

		/**
		 * Get Hero Gallery Item Inner
		 */
		HeroGalleryItem.prototype.getInner = function () {

			this.inner = this.viewport.querySelector(this.config.innerSelector);

		};

		/**
		 * Set Hero Gallery Item Background Image property
		 * The value is based on Background Image Element src
		 */
		HeroGalleryItem.prototype.setBackgroundImage = function () {

			this.background.style.backgroundImage = 'url(' + this.background.img.src + ')';
			this.background.img.classList.add('is-hide');

		};

		/**
		 * Get Hero Gallery Item Background Image element
		 */
		HeroGalleryItem.prototype.getBackgroundImage = function () {

			this.background.img = this.background.querySelector(this.config.backgroundImgSelector);

			if (this.background.img)
				this.setBackgroundImage();

		};

		/**
		 * Get Hero Gallery Item Background
		 */
		HeroGalleryItem.prototype.getBackground = function () {

			this.background = this.viewport.querySelector(this.config.backgroundSelector);

			if (this.background)
				this.getBackgroundImage();

		};

		/**
		 * Normalize this
		 */
		HeroGalleryItem.prototype.normalize = function () {

			this.getBackground();
			this.getInner();

		};

		/**
		 * Init this
		 */
		HeroGalleryItem.prototype.init = function () {

			// give to viewport Node a instance of this
			if (!this.viewport.heroGalleryItem)
				this.viewport.heroGalleryItem = this;

			this.normalize();

		};

		return HeroGalleryItem;

	})();

	/* Hero Gallery Slider */

	var HeroGallerySlider = (function () {

		/**
		 * Hero Gallery Slider constructor
		 * @constructor
		 */
		function HeroGallerySlider(gallery) {

			var self = this;

			this.gallery = gallery;

			this.config = {
				activeClass: 'is-active'
			};

			this.activeItem = false;

			this.start = function () {


			};

			this.resume = function () {



			};

			this.pause = function () {



			};

			this.stop = function () {



			};

			this.change = function () {



			};

			if (this.gallery)
				this.init();

		}

		HeroGallerySlider.prototype.getActive = function () {

			if (this.activeItem)
				return this.activeItem;

			for (var i = 0; i < this.gallery.items.length; i++)
				if (this.gallery.items[i].classList.contains(this.config.activeClass))
					return this.gallery.items[i];

			if (this.gallery.items[0])
				return this.gallery.items[0];

			console.log('aopdfijsdf');

			return false;

		};

		HeroGallerySlider.prototype.normalize = function () {

			this.activeItem = this.getActive();

			for (var i = this.gallery.items.length; i--; )
				this.gallery.items[i].classList.remove(this.config.activeClass);

			if (this.activeItem)
				this.activeItem.classList.add('is-active');

		};

		HeroGallerySlider.prototype.init = function () {

			this.normalize();

		};

		return HeroGallerySlider;

	})();

</script>

<script>

	var heroGallery = new HeroGallery(document.getElementById('hero-gallery'));

</script>

</body>

</html>